<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>HR Document Hub</title>
<link rel="stylesheet" href="style.css">
</head>
<body>
<header>📂 HR Document Hub</header>
<div class="container">
<input type="text" id="searchBox" placeholder="Search documents..." onkeyup="searchFiles()">
<div class="button-bar">
<button onclick="expandAll()">Expand All</button>
<button onclick="collapseAll()">Collapse All</button>
</div>
<div id="fileList">Loading files...</div>
</div>

<script>
// File/folder structure
const fileStructure = {
    "EPZ-BEPZA Laws": [
        "Bangladesh EPZ Labour Rules 2022.pdf",
        "Insurance Law Sec 78 BEPZA 2019.pdf",
        "Sample.txt",
        "Schedule-5 Insurance Bepza.pdf",
        "The Bangladesh Export Processing Zones Authority.pdf",
        "বাংলাদেশ ইপিজেড শ্রম আইন, ২০১৯.pdf"
    ],
    "Govt. Notice/2025": ["Sample.txt"],
    "Labour Laws & Rules": ["Sample.txt"],
    "Minimum Wage Gazette": {
        "BEPZA": ["file1.pdf", "file2.docx"],
        "Cotton Textiles": ["cotton1.pdf"],
        "Garments": ["garments1.pdf"]
    }
};

const fileIcons = { 
    'pdf':'📄','doc':'📝','docx':'📝','xls':'📊','xlsx':'📊',
    'ppt':'📽️','pptx':'📽️','txt':'📝','jpg':'🖼️','jpeg':'🖼️','png':'🖼️','gif':'🖼️',
    'default':'📁' 
};

function createFolderElement(folderName) {
    const folderElement = document.createElement('div');
    folderElement.classList.add('folder');
    folderElement.textContent = `📁 ${folderName}`;
    folderElement.addEventListener('click', () => {
        const ul = folderElement.nextElementSibling;
        if(ul) ul.style.display = ul.style.display === 'none' ? 'block' : 'none';
    });
    return folderElement;
}

function createFileElement(fileName, folderPath='') {
    const li = document.createElement('li');
    const ext = fileName.split('.').pop().toLowerCase();
    const icon = fileIcons[ext] || fileIcons['default'];
    const fileUrl = encodeURIComponent(fileName);
    li.innerHTML = `<span class="icon">${icon}</span> <a href="${folderPath}/${fileUrl}" target="_blank">${fileName}</a>`;
    return li;
}

function buildFileStructure(structure, parentElement, path='') {
    const ul = document.createElement('ul');
    parentElement.appendChild(ul);
    for(const [key, value] of Object.entries(structure)){
        if(Array.isArray(value)){
            // Folder with files
            const folderElement = createFolderElement(key);
            ul.appendChild(folderElement);
            const innerUl = document.createElement('ul');
            ul.appendChild(innerUl);
            value.forEach(file => innerUl.appendChild(createFileElement(file, path + key)));
        } else if(typeof value === 'object'){
            // Folder with subfolders
            const folderElement = createFolderElement(key);
            ul.appendChild(folderElement);
            buildFileStructure(value, ul, path + key + '/');
        }
    }
}

function expandAll() {
    document.querySelectorAll('#fileList ul').forEach(ul => ul.style.display = 'block');
}
function collapseAll() {
    document.querySelectorAll('#fileList ul').forEach(ul => ul.style.display = 'none');
}

function searchFiles() {
    const filter = document.getElementById('searchBox').value.toLowerCase();
    document.querySelectorAll('#fileList li').forEach(li => {
        const text = li.textContent.toLowerCase();
        li.style.display = text.includes(filter) ? 'list-item' : 'none';
    });
}

document.addEventListener('DOMContentLoaded', () => {
    const fileList = document.getElementById('fileList');
    fileList.innerHTML = '';
    buildFileStructure(fileStructure, fileList);
});
</script>

</body>
</html>
