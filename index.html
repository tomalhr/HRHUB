<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Bangladesh HR Resource Hub</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <h1>ğŸ“š Bangladesh HR Resource Hub</h1>
    <p>Centralized access to government notices, labour laws, HR forms, and compliance guidelines.</p>

    <!-- Search box -->
    <input type="text" id="searchBox" placeholder="ğŸ” Search files..." onkeyup="filterFiles()">

    <h2>ğŸ“‚ Available Files</h2>
    <ul id="file-list">
        <li>Loading files...</li>
    </ul>

    <script>
        async function fetchFiles() {
            const repo = "tomalhr/hrhub"; // <-- CHANGE THIS
            const folder = "docs";
            const url = `https://api.github.com/repos/${repo}/contents/${folder}`;
            try {
                const response = await fetch(url);
                if (!response.ok) throw new Error("Folder not found");
                const files = await response.json();

                let listHTML = "";
                files.forEach(file => {
                    let icon = "ğŸ“„"; // default icon
                    const ext = file.name.split('.').pop().toLowerCase();

                    if (["pdf"].includes(ext)) icon = "ğŸ“•";
                    if (["doc", "docx"].includes(ext)) icon = "ğŸ“";
                    if (["xls", "xlsx", "csv"].includes(ext)) icon = "ğŸ“Š";
                    if (["jpg", "jpeg", "png", "gif", "webp"].includes(ext)) icon = "ğŸ–¼ï¸";
                    if (["zip", "rar"].includes(ext)) icon = "ğŸ“¦";

                    listHTML += `<li><span class="file-item">${icon} <a href="${file.download_url}" target="_blank">${file.name}</a></span></li>`;
                });

                document.getElementById("file-list").innerHTML = listHTML;
            } catch (error) {
                document.getElementById("file-list").innerHTML = "<li>No files found in /docs/ folder.</li>";
            }
        }

        function filterFiles() {
            const searchValue = document.getElementById("searchBox").value.toLowerCase();
            const items = document.querySelectorAll("#file-list li");
            items.forEach(item => {
                const text = item.textContent.toLowerCase();
                item.style.display = text.includes(searchValue) ? "" : "none";
            });
        }

        fetchFiles();
    </script>
</body>
</html>
